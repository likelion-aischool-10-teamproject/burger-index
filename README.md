team project 02. burger-index
# 버거 지수는 실제로 도시의 발전을 나타낼까?

## 1. 주제 선정
### 배경
  - 인터넷 밈(Meme)으로부터 나온 버거지수
  - 위의 가설을 주제로 한 네티즌이 2015년에  분석
  - 흥미로운 주제, 직접 분석을 해보자는 취지에서 시작

### 목표
  - 버거지수와 도시 발전 지표의 상관관계를 분석해보자.
  -  2015년도의 결과와 우리가 검증한 결과가 어떻게 변하였나? 그렇다면, 그 결과의 차이는 무엇인가?

### 2015년도의 분석 결과
   * 수도권과 광역시 중심에 높은 버거지수
    - 버거지수의 분모에 해당하는 롯데리아는 전국적으로 분포
        - 매장수가 다른 브랜드에 비해 월등히 많음
    - 버거지수의 분자에 해당하는 BKM(버거킹+KFC+맥도날드)는 수도권과 광역시에 집중적으로 분포
   * 버거지수가 인구밀도와의 상관관계를 가진다.

전국 매장 분포 | 버거지수와 인구밀도의 상관관계
|:-------------------------:|:-------------------------:|
![2015_pop_burger](https://user-images.githubusercontent.com/38090151/125220046-fda6bc00-e300-11eb-8245-fb8a8db28852.JPG) | <img src="https://user-images.githubusercontent.com/38090151/125220053-00091600-e301-11eb-91aa-7f103011a7e0.JPG"  width="100%"> 


## 2. 데이터 수집 및 전처리 과정
### 1) 수집데이터
- Selenium, BeautifulSoup을 활용하여 데이터 수집
- 공식 홈페이지에 나와있는 지점명과 주소를 수집
### 2) 활용 데이터
- 통계청 공공데이터
- 전국 16개 광역시도별  1인당 지역내총생산, 지역총소득, 개인소득 (2019년)
- 전국 16개 광역시도별 인구수, 인구밀도 (2020년)
- 전국 시군구별 인구수 (2019년)
- 전국 시군구별 면적 (2019년)
### 3) 전처리 과정
  1. 수집한 데이터의 주소를 행정구역별로 분리
  2. 각 행정구역명에 줄임말이 있는 경우 풀어서 통일해 입력
  3. 각 브랜드별로 수집한 데이터를 통합 및 파일 출력 (1차 데이터)
  4. 1차 데이터를 시군구별 브랜드 매장수로 재구조화
  5. 버거지수 산출 및 인구수, 인구밀도 데이터와 통합 및 파일출력 (2차 데이터)
  6. 2차 데이터를 광역시도별로 다시 묶어서, 1인당 지역내총생산, 지역총소득, 개인소득, 민간소비과 통합 및 파일출력 (3차 데이터)
### 4) 주요 이슈
- 롯데리아 웹데이터 수집<br>
- 롯데리아 홈페이지 페이지 로딩 속도 저하로 정확한 데이터 수집 불가
   - while과 sleep을 사용하여 페이지 상태 확인 후 데이터 수집
- 데이터 수집 중 서버측에서 접근 제한됨
   - urllib의 urlopen 사용 시 서버 접근 제한이 되는 경우 발생
   - requests 모듈 사용하여 headers에 user-agent 입력
- 롯데리아 홈페이지에 다수 지점이 주소가 아닌 위치정보로 이루어짐
   - 예시 )
      - 번동D/T : 번동사거리 현대주유소 위치
      - 천안두정 : 두정역에서 100M, 주공8단지 정문 건너편에 위치
      - 수원정자 : 홈배달 가능합니디
   - 네이버에서 지점명으로 검색하여 주소데이터 수집
- 네이버에서 지점 명으로 검색 시 결과페이지 형식이 다른 때도 있어 오류
   - 예시 )
      - 단일 지점이 나오고 지도가 있음
      - 단일 지점이 나오고 지도가 없음
      - 지점이 목록으로 나옴
      - 지점이 목록으로 나오고 페이지 구조가 다름
      - 주소의 표시 형식이 다름
   - 각각의 형식에 맞춰서 예외처리 적용
- 롯데리아 홈페이지에 없어진 지점에 대한 정보가 존재
   - 네이버 검색 시 지점명을 비교하여 없는 지점 None 처리
- 지도시각화
- 수집한 시군구 지도데이터에 광역시가 아님에도 구까지 분류된 지역이 있음
   - 지도데이터의 가공이 가능한 웹페이지를 이용하여 지도데이터 가공

### 3. 결과 및 분석
| ppt 슬라이드 | 설명|
|:-------------------------:|:-------------------------|
|![슬라이드13](https://user-images.githubusercontent.com/38090151/125221149-cafdc300-e302-11eb-9c1b-2cd573559296.png)| **시도별 버거지수와 시군구별 버거지수 비교**<br> - 버거매장이 전혀 없는 특이지역 : 인구 소멸 지역 <br> - 세종시 인프라 투자에도 불구하고 버거지수 최저  <br> → 버거지수가 기존의 ideation과 다른 양상을 띄는 것에 대한 의문점 제기 |
|![슬라이드14](https://user-images.githubusercontent.com/38090151/125221153-ccc78680-e302-11eb-9d30-3d3cf55e0c38.png)| **heatmap을 통 경제지표에 대한 설명력 분석** <br> - 1인당 지표를 제외하고는 연관관계가 불분명해보임 |
|![슬라이드15](https://user-images.githubusercontent.com/38090151/125221158-cdf8b380-e302-11eb-9e43-3cd09314b06d.png)| - 버거지수와 인구수 관련 지표에 대한 분석을 하면서 6년전 data를 활용함 <br> - 6년간의 변화양상과 인구수 이외의 지표를 분석해야한다는 결과 도출 |
|![슬라이드16](https://user-images.githubusercontent.com/38090151/125221161-ce914a00-e302-11eb-8ef1-b0726afe9e7d.png)| - 전국시군구별 버거매장 colormap <br> - 다른 매장은 비슷한데, 버거킹만 달라지게 되었고 가장 두드러진 경북 구미시와 안동시에 대해 텍스트로도 보임 |
|![슬라이드17](https://user-images.githubusercontent.com/38090151/125221162-cf29e080-e302-11eb-8b78-e2e44a031357.png)| - bar plot으로 매장수 비교 더 잘 보이게 함 |
|![슬라이드18](https://user-images.githubusercontent.com/38090151/125221163-cfc27700-e302-11eb-8282-9aa1c2dd803a.png)| - pairplot을 통해 브랜드간 상관관계 보이면서 6년간의 변화에 대해 분석 |
|![슬라이드19](https://user-images.githubusercontent.com/38090151/125221164-cfc27700-e302-11eb-9b8b-9e1ce3eaa0dd.png)| - 시군구별 버거지수와 인구수의 scatter plot을 통해 outlier들을 분석해서 버거지수의 의미를 더 심화시키기로함 |


outlier 분석을 위해 유동인구 및 주민등록상 인구지표 활용해 설명력을 높임

### 4. 결론

