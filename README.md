team project 02. burger-index
# 버거 지수는 실제로 도시의 발전을 나타낼까?
- 기간 : 2021.06.28 ~ 07.12
- 팀원 : [김동화](https://github.com/dddonghwa), [김남은](https://github.com/DestinyKim), [김민수](https://github.com/tlqpffls), [최민혁](https://github.com/Bread-choi) (개인 GitHub 링크)
- 주요 라이브러리 : *selenium, bs4, requests, pandas, matplotlib, seaborn, plotly*
- 폴더 설명 :  
1. web-crawling : 웹크롤링 소스 코드 및 결과  
2. preprocessing : 전처리 소스 코드 및 결과  
3. visualization : 개인별 시각화 소스 코드 및 결과  
4. BurgerIndex_PPT : 발표 자료

## 1. 주제 선정
### 배경
  - 인터넷 밈(Meme)으로부터 나온 버거지수
  - 위의 가설을 주제로 한 네티즌이 2015년에  분석
  - 흥미로운 주제, 직접 분석을 해보자는 취지에서 시작

### 목표
  - 버거지수와 도시 발전 지표의 상관관계를 분석해보자.
  -  2015년도의 결과와 우리가 검증한 결과가 어떻게 변하였나? 그렇다면, 그 결과의 차이는 무엇인가?

### 2015년도의 분석 결과
   * 수도권과 광역시 중심에 높은 버거지수
    - 버거지수의 분모에 해당하는 롯데리아는 전국적으로 분포
        - 매장수가 다른 브랜드에 비해 월등히 많음
    - 버거지수의 분자에 해당하는 BKM(버거킹+KFC+맥도날드)는 수도권과 광역시에 집중적으로 분포
   * 버거지수가 인구밀도와의 상관관계를 가진다.

전국 매장 분포 | 버거지수와 인구밀도의 상관관계
|:-------------------------:|:-------------------------:|
![2015_pop_burger](https://user-images.githubusercontent.com/38090151/125220046-fda6bc00-e300-11eb-8245-fb8a8db28852.JPG) | <img src="https://user-images.githubusercontent.com/38090151/125220053-00091600-e301-11eb-91aa-7f103011a7e0.JPG"  width="100%"> 


## 2. 데이터 수집 및 전처리 과정
### 1) 수집데이터
- Selenium, BeautifulSoup을 활용하여 데이터 수집
- 공식 홈페이지에 나와있는 지점명과 주소를 수집
### 2) 활용 데이터
- 통계청 공공데이터
- 전국 16개 광역시도별  1인당 지역내총생산, 지역총소득, 개인소득 (2019년)
- 전국 16개 광역시도별 인구수, 인구밀도 (2020년)
- 전국 시군구별 인구수 (2019년)
- 전국 시군구별 면적 (2019년)
### 3) 전처리 과정
  1. 수집한 데이터의 주소를 행정구역별로 분리
  2. 각 행정구역명에 줄임말이 있는 경우 풀어서 통일해 입력
  3. 각 브랜드별로 수집한 데이터를 통합 및 파일 출력 (1차 데이터)
  4. 1차 데이터를 시군구별 브랜드 매장수로 재구조화
  5. 버거지수 산출 및 인구수, 인구밀도 데이터와 통합 및 파일출력 (2차 데이터)
  6. 2차 데이터를 광역시도별로 다시 묶어서, 1인당 지역내총생산, 지역총소득, 개인소득, 민간소비과 통합 및 파일출력 (3차 데이터)
### 4) 주요 이슈
- 롯데리아 웹데이터 수집<br>
- 롯데리아 홈페이지 페이지 로딩 속도 저하로 정확한 데이터 수집 불가
   - while과 sleep을 사용하여 페이지 상태 확인 후 데이터 수집
- 데이터 수집 중 서버측에서 접근 제한됨
   - urllib의 urlopen 사용 시 서버 접근 제한이 되는 경우 발생
   - requests 모듈 사용하여 headers에 user-agent 입력
- 롯데리아 홈페이지에 다수 지점이 주소가 아닌 위치정보로 이루어짐
   - 예시 )
      - 번동D/T : 번동사거리 현대주유소 위치
      - 천안두정 : 두정역에서 100M, 주공8단지 정문 건너편에 위치
      - 수원정자 : 홈배달 가능합니디
   - 네이버에서 지점명으로 검색하여 주소데이터 수집
- 네이버에서 지점 명으로 검색 시 결과페이지 형식이 다른 때도 있어 오류
   - 예시 )
      - 단일 지점이 나오고 지도가 있음
      - 단일 지점이 나오고 지도가 없음
      - 지점이 목록으로 나옴
      - 지점이 목록으로 나오고 페이지 구조가 다름
      - 주소의 표시 형식이 다름
   - 각각의 형식에 맞춰서 예외처리 적용
- 롯데리아 홈페이지에 없어진 지점에 대한 정보가 존재
   - 네이버 검색 시 지점명을 비교하여 없는 지점 None 처리
- 지도시각화
- 수집한 시군구 지도데이터에 광역시가 아님에도 구까지 분류된 지역이 있음
   - 지도데이터의 가공이 가능한 웹페이지를 이용하여 지도데이터 가공

## 3. 결과 및 분석
| ppt 슬라이드 | 설명|
|:-------------------------:|:-------------------------|
|![슬라이드13](https://user-images.githubusercontent.com/38090151/125221149-cafdc300-e302-11eb-9c1b-2cd573559296.png)| **시도별 버거지수와 시군구별 버거지수 비교**<br><br> - 광역시도별 버거지수에서 서울(1.55)이 압도적으로 높고, 부산광역시(0.85)와 대구광역시(0.85)가  그 뒤를 이음 <br> - 세종시 인프라 투자에도 불구하고 버거지수가 최저 <br> - 버거매장이 전혀 없는 특이지역은 2019년 10월 [기사](https://news.joins.com/article/23632806)에서 인구소멸 고위험 지역으로 선정된 것을 확인  <br> → 버거지수가 기존의 가설과 다른 양상을 띄는 것에 대한 의문점 제기 |
|![슬라이드14](https://user-images.githubusercontent.com/38090151/125221153-ccc78680-e302-11eb-9d30-3d3cf55e0c38.png)| **버거지수의 경제지표에 대한 설명력 분석** <br><br> - 1인당 민간소비를 제외한 경제 지표들과의 연관관계가 불분명해보임 <br> - 버거지수와 경제지표 사이의 상관관계가 낮음을 확인 |
|![슬라이드15](https://user-images.githubusercontent.com/38090151/125221158-cdf8b380-e302-11eb-9e43-3cd09314b06d.png)| **버거지수의 인구수 관련 지표에 대한 설명력 분석**  <br><br> - 6년 전 결과와 비교해보았을 때 인구밀도와의 상관관계가 미미하지만 낮아진 것을 확인 <br> - 인구수 이외의 지표를 분석해야한다는 결과를 도출?? |
|![슬라이드16](https://user-images.githubusercontent.com/38090151/125221161-ce914a00-e302-11eb-8ef1-b0726afe9e7d.png)| **전국 시군구별 버거매장 colormap** <br><br> - 6년 전과 동일하게 롯데리아는 전국적으로 넓게 퍼져있지만, 다른 브랜드는 비교적 수도권과 광역시에 집중되어 있음 <br> - 다만, 6년 전에 비해 버거킹이 매장을 전국적으로 확대한 것으로 보임  <br> - 그 변화가 가장 두드러진 경북 구미시와 안동시에 대해 구체적인 수치(매장수)로 확인 |
|![슬라이드17](https://user-images.githubusercontent.com/38090151/125221162-cf29e080-e302-11eb-8b78-e2e44a031357.png)| **브랜드별 총 매장수** <br><br> - KFC와 맥도날드는 각각 약 200여개, 400여개의 매장으로 6년 전과 비슷하지만, 버거킹은 약 200여개의 가맹점이 증가 <br> - 관련 [기사](https://weekly.donga.com/3/search/11/2049382/1)에서 버거킹이 "주요 상권 이외의 지역에서도 드라이브스루 매장과 배달 서비스를 계속 확대해 고객 편의성과 접근성을 높이"며 "코로나 사태에도 전년 동기 대비 매장 12% 증가"고 밝힘  |
|![슬라이드18](https://user-images.githubusercontent.com/38090151/125221163-cfc27700-e302-11eb-8282-9aa1c2dd803a.png)| **브랜드끼리의 상관관계** <br><br> - 2015년 분석에서는 '맥도날드는 롯데리아와 분포가 비슷하기 때문에 본래의 의도에 맞으려면 버거지수의 분자에서 맥도날드를 빼야한다.'고 주장함 <br> - 2021년 결과에서는 버거킹이 오히려 롯데리아와 맥도날드의 분포와 비슷해짐을 알 수 있었음 <br> - 이는 앞서 언급한 버거킹의 매장 확대에 따른 현상으로 해석할 수 있음|
|![슬라이드19](https://user-images.githubusercontent.com/38090151/125221164-cfc27700-e302-11eb-9b8b-9e1ce3eaa0dd.png)| **시군구별 버거지수** <br><br> - 시군구별 버거지수와 인구수의 산점도를 이용하여 이상치들을 분석해서 버거지수의 의미를 더 심화시키기로함 <br> - 추세선 왼쪽 위를 GROUP1, 오른쪽 아래를 GROUP2 로 나누어 지역의 특성을 분석 |
|![슬라이드20](https://user-images.githubusercontent.com/38090151/125221166-d05b0d80-e302-11eb-9095-6980865972f9.png)| **GROUP 1** <br><br> - 버거지수가 낮은데 반해 인구수가 높은 지역 <br> - 주로 수도권에 위치, 서울로 출퇴근하며 유동인구 많음 <br> - 경기도 수원시, 고양시, 성남시, 용인시, 부천시, 화성시, 경상남도 창원시*  |
|![슬라이드21](https://user-images.githubusercontent.com/38090151/125221169-d0f3a400-e302-11eb-8029-e0f6d3133860.png)| **GROUP 1** <br><br> - 경기도 교통정보센터의 [지역간 출근통행량](https://gits.gg.go.kr/gtdb/web/trafficDb/newzone/HB003/2/IN_OUT/4_ATT_DIS.do)(2016년)에 따르면 총출근발생량 상위 6개 시가 GROUP 1과 동일함을 확인|
|![슬라이드22](https://user-images.githubusercontent.com/38090151/125221170-d0f3a400-e302-11eb-9efa-a4acd58c54ac.png)| **GROUP 2** <br><br> - 버거지수가 높은데 반해 인구수가 낮은 지역 <br> - 서울시 서초구, 강남구, 중구, 종로구 <br> - 역시 유동인구가 많은 지역 |
|![슬라이드23](https://user-images.githubusercontent.com/38090151/125221171-d18c3a80-e302-11eb-8d02-1d82f4037693.png)| **GROUP 2** <br><br> - [서울특별시 데이터시각화 자료](http://datakorea.datastore.or.kr/profile/geo/04000KR11/) (2018년)에 따르면 서울시 강남구와 서초구, 중구와 종로구가 유동인구 및 주민등록인구 대비 유동인구가 많은 지역으로 선정|


## 4. 결론
#### 1) 버거지수를 경제적인 지표로 활용하기는 힘들다.
상관계수가 낮고, 경제지표는 종속변수로서 인과관계를 따지기 어렵다.
다만, 개인 소비와 관련된 지표인 1인당 개인소득과 민간소비는 약한 상관관계를 가지는 것으로 보인다. 시군구별로 경제지표를 알 수 있는 통계자료가 없어서 이를 확인해볼 수는 없었다. 

#### 2) 버거지수는 6년 전과 비교하여 인구밀도와의 상관관계가 약해졌다.
원인으로 버거킹의 가맹점 확장에 따른 버거지수 분포의 변화를 들 수 있습니다. 2015년의 분석에서 ‘롯데리아 대비 KFC+버거킹의 매장수’ 라는 지수가 인구밀도와 같은 도시 발전 지수를 더 잘 나타낼 수 있다고 주장했습니다. 하지만 2021년 현재, 버거킹이 롯데리아가 점유했던 소도시까지 매장수를 확대하면서 광역시도와 소도시의 버거지수 차이를 줄이고 있기에 버거지수가 도시 발전 지표로서의 의미를 점차 잃어가고 있다고 말할 수 있습니다.

#### 3) 유동인구는 버거지수가 인구수에 대한 설명력을 약하게 만든다.
버거지수와 인구수 간의 선형 관계에서 벗어난 특이점 지역을 분석한 결과, 대부분 유동인구가 많은 지역임을 알 수 있었다. 

### 5. 한계 및 향후 개선 사항
#### 1) 맘스터치를 포함한 버거지수 고안
최근 [기사](https://www.chosun.com/economy/economy_general/2021/07/08/GM757V23VNAO3PKGGHMT4C52WM/)를 보면 2021년 7월 기준 롯데리아 매장수 1333개, 맘스터치 1338곳으로 국내 최초의 버거 프랜차이즈로 출범 이후 매장수 1위를 줄곧 지켜온 롯데리아를 맘스터치가 앞질렀다. 따라서 앞으로 맘스터치의 영향을 무시할 수는 없을 것이다. 

#### 2) 브랜드별 가맹점 개설 조건 조사
버거 가맹점은 주변 상권이나 유동인구, 경쟁 음식점의 유무 등에 영향을 받을 수 있기 때문에, 이에 대한 추가 분석을 진행하면 버거 매장 분포에 대한 인사이트를 얻을 수 있을 것으로 기대된다. 
